<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <meta charset="UTF-8" />
    <title>#{publisherBean.publisher.id == null ? 'Add New Publisher' : 'Edit Publisher'}</title>
</h:head>
<h:body>
    <f:metadata>
        <f:viewParam name="id" value="#{publisherBean.editId}" />
        <f:event type="preRenderView" listener="#{publisherBean.loadPublisher}" />
    </f:metadata>

    <div class="card">
        <p:breadCrumb>
            <p:menuitem value="Home" url="/" />
            <p:menuitem value="Publishers" url="/publishers.xhtml" />
            <p:menuitem value="#{publisherBean.publisher.id == null ? 'Add New' : 'Edit'}" url="#" />
        </p:breadCrumb>

        <h1>#{publisherBean.publisher.id == null ? 'Add New Publisher' : 'Edit Publisher'}</h1>

        <h:form>
            <p:panel styleClass="p-mb-3">
                <h:inputHidden value="#{publisherBean.publisher.id}" />

                <div class="p-field p-mb-3">
                    <p:outputLabel for="name" value="Name" />
                    <p:inputText id="name" value="#{publisherBean.publisher.name}"
                                 required="true" styleClass="p-mb-2 p-d-block" />
                    <p:message for="name" />
                </div>

                <div class="p-field p-mb-3">
                    <p:outputLabel for="address" value="Address" />
                    <p:inputTextarea id="address" value="#{publisherBean.publisher.address}"
                                     rows="3" styleClass="p-mb-2 p-d-block" />
                </div>

                <div class="p-d-flex p-mt-3">
                    <p:commandButton value="Save" action="#{publisherBean.save}" styleClass="p-mr-2" />
                    <p:button value="Cancel" outcome="publishers" />
                </div>
            </p:panel>
        </h:form>
    </div>
</h:body>
</html>